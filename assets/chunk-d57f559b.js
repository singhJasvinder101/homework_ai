console.log("background is running");chrome.runtime.onMessage.addListener((e,t,r)=>{e.action==="OCR_RESULT"&&console.log("Extracted Text:",e.text)});chrome.runtime.onMessage.addListener((e,t,r)=>{e.action==="OCR_STARTED"?(chrome.action.setBadgeBackgroundColor({color:"#FFD700"}),chrome.action.setBadgeText({text:"."})):e.action==="OCR_PROGRESS"?(chrome.action.setBadgeBackgroundColor({color:"#FFD700"}),chrome.action.setBadgeText({text:`${Math.round(e.progress*100)}%`})):e.action==="OCR_RESULT"?(chrome.action.setBadgeBackgroundColor({color:"#00FF00"}),chrome.action.setBadgeText({text:"."})):e.action==="OCR_ERROR"&&(chrome.action.setBadgeBackgroundColor({color:"#FF0000"}),chrome.action.setBadgeText({text:"ERR"}))});chrome.runtime.onMessage.addListener((e,t,r)=>{e.action==="START_OCR"?chrome.tabs.query({active:!0,currentWindow:!0},o=>{o[0].id&&chrome.tabs.sendMessage(o[0].id,{action:"START_OCR"})}):e.action==="SHOW_ANSWER"&&chrome.tabs.query({active:!0,currentWindow:!0},o=>{o[0].id&&chrome.tabs.sendMessage(o[0].id,{action:"SHOW_ANSWER",answer:ocrResult})})});
